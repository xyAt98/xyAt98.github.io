<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xyat98.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
<meta property="og:type" content="website">
<meta property="og:title" content="Liu">
<meta property="og:url" content="http://xyat98.github.io/page/2/index.html">
<meta property="og:site_name" content="Liu">
<meta property="og:description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="y-n">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://xyat98.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Liu</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Liu</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">16</span></a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xyat98.github.io/2023/12/03/%E5%BE%85%E5%8A%9E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_9443.JPG">
      <meta itemprop="name" content="y-n">
      <meta itemprop="description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liu">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/03/%E5%BE%85%E5%8A%9E/" class="post-title-link" itemprop="url">待办</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-03 12:52:29" itemprop="dateCreated datePublished" datetime="2023-12-03T12:52:29+08:00">2023-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-01-13 20:24:05" itemprop="dateModified" datetime="2024-01-13T20:24:05+08:00">2024-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/goal/" itemprop="url" rel="index"><span itemprop="name">goal</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>长期目标</h1>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_0" checked="true" disabled="true"><label for="cbx_0"> 将idea和vscode的快捷键设置成完全一样的/要么完全使用vscode进行开发</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_1" disabled="true"><label for="cbx_1"> 习惯用英文写注释，在写和代码有关的文档/注释/代码时，中英文切换还挺麻烦的</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_2" disabled="true"><label for="cbx_2"> 固定一个地方记笔记（无论是工作还是学习还是读书笔记），兼具隐私性和方便性</label></p>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_3" disabled="true"><label for="cbx_3"> 现在考虑用github可以部署的博客，但好像没啥隐私性， 可扩展性也不强</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_4" disabled="true"><label for="cbx_4"> 如果只是记笔记的话， 直接将博客弄成一个项目推到github上，写一个readme，只要我的某个平台能运行项目就成。</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_5" disabled="true"><label for="cbx_5"> 搞个登录？看看github.io怎么弄成登录的（authentication加在哪里呢？github.io像是一个纯静态的，不太能加把？不然自己搞个服务器？）</label></li>
</ul>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_6" disabled="true"><label for="cbx_6"> github.io弄成https的</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_7" disabled="true"><label for="cbx_7"> vscode里面typora插入图片如何优化，比如一行插入几张图，调整图片大小等</label></p>
</li>
</ul>
<h1>近期待办</h1>
<h2 id="博客相关">博客相关</h2>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_8" checked="true" disabled="true"><label for="cbx_8"> hexo添加上categories页面和tag页面</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_9" checked="true" disabled="true"><label for="cbx_9"> 加上头像</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_10" checked="true" disabled="true"><label for="cbx_10"> 加签名相关的东西</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_11" checked="true" disabled="true"><label for="cbx_11"> 加背景</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_12" checked="true" disabled="true"><label for="cbx_12"> 用中文的（不知道为啥， 配置没生效）<br>
可以看看这篇博客，复刻一下</label></p>
<p><a target="_blank" rel="noopener" href="https://cs-cshi.github.io/hexo-blog/Hexo-NexT%20%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E3%80%81%E6%A0%87%E7%AD%BE/">https://cs-cshi.github.io/hexo-blog/Hexo-NexT 添加分类、标签/</a></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_13" checked="true" disabled="true"><label for="cbx_13"> hexo 部署的时候，图片放不上去</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_14" checked="true" disabled="true"><label for="cbx_14"> hexo deploy的时候可以加入自己的git commit吗-好像不行，也没意义，算了</label></p>
</li>
</ul>
<h1>今日 （2023-12-03</h1>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_15" checked="true" disabled="true"><label for="cbx_15"> 项目renren-fast跑通</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_16" checked="true" disabled="true"><label for="cbx_16"> 除法求值-393</label></p>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_17" checked="true" disabled="true"><label for="cbx_17"> 自己做出来了（dfs）</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_18" checked="true" disabled="true"><label for="cbx_18"> 官方题解用了union-find， 可以思考一下union-find咋做</label></li>
</ul>
</li>
</ul>
<h1>2023-12-10</h1>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_19" checked="true" disabled="true"><label for="cbx_19"> 用vscode作ide，看看咋配置</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_20" checked="true" disabled="true"><label for="cbx_20"> N字形变换-6</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_21" checked="true" disabled="true"><label for="cbx_21"> 完全二叉树节点数计算-222（O（log 2n））</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_22" checked="true" disabled="true"><label for="cbx_22"> 二分查找</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_23" checked="true" disabled="true"><label for="cbx_23"> 浏览器读取一个网页发生了什么?</label></p>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_24" checked="true" disabled="true"><label for="cbx_24"> CSS</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_25" checked="true" disabled="true"><label for="cbx_25"> DOM树</label></li>
</ul>
</li>
</ul>
<h1>2023-12-18 ~ 2023-12-24</h1>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_26" disabled="true"><label for="cbx_26"> React框架</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_27" disabled="true"><label for="cbx_27"> 计数排序</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_28" disabled="true"><label for="cbx_28"> Node.js扮演了什么角色?</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_29" disabled="true"><label for="cbx_29"> Js基础语法</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_30" disabled="true"><label for="cbx_30"> next框架</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_31" disabled="true"><label for="cbx_31"> 使用bard（挂新加坡或美国的vpn）</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_32" disabled="true"><label for="cbx_32"> 项目</label></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xyat98.github.io/2023/12/03/SpringBoot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_9443.JPG">
      <meta itemprop="name" content="y-n">
      <meta itemprop="description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liu">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/03/SpringBoot/" class="post-title-link" itemprop="url">SpringBoot</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-03 12:52:29" itemprop="dateCreated datePublished" datetime="2023-12-03T12:52:29+08:00">2023-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-01-13 22:13:25" itemprop="dateModified" datetime="2024-01-13T22:13:25+08:00">2024-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/" itemprop="url" rel="index"><span itemprop="name">Backend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>Hello，SpringBoot</h1>
<h2 id="1-创建maven工程">1. 创建maven工程</h2>
<p>要求：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.java.com/">Java 8</a> &amp; 兼容java14 .</li>
<li>Maven 3.3+</li>
<li>idea 2019.1.2</li>
</ul>
<h2 id="2-引入依赖">2. 引入依赖</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-创建主程序">3. 创建主程序</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] argvs)</span>&#123;</span><br><span class="line">        SpringApplication.run(Application.class,argvs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-编写业务">4. 编写业务</h2>
<p><img src="../images/SpringBoot/image-20221114141614658.png" alt=""></p>
<h2 id="5-测试">5. 测试</h2>
<p>直接运行main方法就好</p>
<h2 id="6-简化配置">6. 简化配置</h2>
<p><img src="../images/SpringBoot/image-20221114135307050.png" alt=""></p>
<p>application.properties这个文件里能做一些tomcat方面的修改，具体能修改什么配置可以看官方文档：</p>
<p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties">配置修改</a></p>
<h2 id="7-简化部署">7. 简化部署</h2>
<p>在pom.xml中加入：（这个插件帮我们部署）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>打包：选择clean和package，点右上角的三角符号</p>
<p><img src="../images/SpringBoot/image-20221114140543476.png" alt=""></p>
<p>生成了jar包（默认打包成jar包）</p>
<p><img src="../images/SpringBoot/image-20221114140639904.png" alt=""></p>
<p>可以直接执行jar包。命令：java -jar xxx.jar</p>
<p><img src="../images/SpringBoot/image-20221114140721563.png" alt=""></p>
<h1>自动配置</h1>
<h2 id="1-依赖管理">1. 依赖管理</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># parent依赖管理，父项目几乎声明了所有开发中常用的依赖的版本号,自动版本仲裁机制</span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># 它的父项目</span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>如果需要更改某一个依赖的版本号的话，用properties修改，如将mysql驱动修改为5.1.43版本：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.43<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1>注解</h1>
<h2 id="1-RestController">1. @RestController</h2>
<p>@RestController== @Controller + @ResponseBody</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xyat98.github.io/2023/12/03/SpringMVC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_9443.JPG">
      <meta itemprop="name" content="y-n">
      <meta itemprop="description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liu">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/03/SpringMVC/" class="post-title-link" itemprop="url">SpringMVC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-03 12:52:29" itemprop="dateCreated datePublished" datetime="2023-12-03T12:52:29+08:00">2023-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-01-13 22:13:56" itemprop="dateModified" datetime="2024-01-13T22:13:56+08:00">2024-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/" itemprop="url" rel="index"><span itemprop="name">Backend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>1. HelloWorld</h1>
<h2 id="1-创建maven工程">1. 创建maven工程</h2>
<h2 id="2-引入依赖">2. 引入依赖</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--        设置打包方式为war--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--        servlet api--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--        spring MVC--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--        前端解析器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.thymeleaf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-spring5<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-配置tomcat以及web">3. 配置tomcat以及web</h2>
<p><img src="../images/SpringMVC/image-20221114145800061.png" alt=""></p>
<p><img src="../images/SpringMVC/image-20221114145833074.png" alt=""></p>
<p>配置web资源（资源对应的url）</p>
<p><img src="../images/SpringMVC/image-20221114180341127.png" alt=""></p>
<h2 id="4-创建web-xml">4. 创建web.xml</h2>
<ol>
<li>
<p>web.xml配置DispatcherServlet（不过是怎么找到springMVC.xml</p>
<p>这个文件的呢）</p>
</li>
</ol>
<p>​	<img src="../images/SpringMVC/image-20221107135035680.png" alt=""></p>
<ol start="2">
<li>
<p>增加springMVC.xml（读取这个文件创建DispatcherServlet）也可以直接用默认的</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--开启组件扫描器，扫描包中注解，生成相应的bean--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;org.example&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;order&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateEngine&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateResolver&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!--                        &amp;lt;!&amp;ndash; 视图前缀 &amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!--                        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot;/&gt;--&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- 视图后缀 --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.html&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateMode&quot;</span> <span class="attr">value</span>=<span class="string">&quot;HTML5&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    开放对静态资源的访问--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>一个请求的访问过程：</p>
<p><img src="../images/SpringMVC/image-20221107135618500.png" alt=""></p>
<ul>
<li>1 客户端请求提交到 DispatcherServlet</li>
<li>2 由 DispatcherServlet 控制器查询一个或多个 HandlerMapping，找到处理请求的Controller</li>
<li>3 DispatcherServlet 将请求提交到 Controller（也称为 Handler）</li>
<li>4 Controller 调用业务逻辑处理后，返回 ModelAndView</li>
<li>5 DispatcherServlet 查询一个或多个 ViewResoler 视图解析器，找到 ModelAndView指定的视图</li>
<li>6 视图负责将结果显示到客户端</li>
</ul>
<h2 id="5-编写业务逻辑以及测试">5. 编写业务逻辑以及测试</h2>
<p><img src="../images/SpringMVC/image-20221114180455322.png" alt=""></p>
<h1>2. @RequestMapping（@PostMapping、@GetMapping）</h1>
<h2 id="1-用处：为控制器指定可以处理哪些URL请求，DispatcherServlet截获请求后，通过控制器上-RequestMapping映射到具体的处理方法">1. 用处：为控制器指定可以处理哪些URL请求，DispatcherServlet截获请求后，通过控制器上@RequestMapping映射到具体的处理方法</h2>
<h2 id="2-标记位置：类或方法上">2. 标记位置：类或方法上</h2>
<ul>
<li>类上：提供初步的请求映射信息。相对于 WEB 应用的根目录</li>
<li>方法上：提供进一步的细分映射信息。相对于标记在类上的URL。</li>
</ul>
<h2 id="3-value属性">3. value属性</h2>
<p>具体映射的URL</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;testPOJO&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">testPojo</span><span class="params">(User user)</span>&#123;</span><br><span class="line">       System.out.println(user);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;testPOJO&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">testPojo</span><span class="params">(User user)</span>&#123;</span><br><span class="line">       System.out.println(user);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-method属性">4. method属性</h2>
<p>该控制器（Controller方法）支持的请求方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;testPOJO&quot;,method = RequestMethod.POST)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">testPojo</span><span class="params">(User user)</span>&#123;</span><br><span class="line">       System.out.println(user);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-params属性">5. params属性</h2>
<p>要求映射的请求必须带有的params</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(method = &#123;RequestMethod.GET,RequestMethod.POST&#125;,</span></span><br><span class="line"><span class="meta">            value = &#123;&quot;/getTest&quot;,&quot;postTest&quot;&#125;,</span></span><br><span class="line"><span class="meta">            params = &#123;&quot;username&quot;,&quot;password!=123&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testMethod</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>“param”：要求请求映射所匹配的请求必须携带param请求参数</p>
<p>“!param”：要求请求映射所匹配的请求必须不能携带param请求参数</p>
<p>“param=value”：要求请求映射所匹配的请求必须携带param请求参数且param=value</p>
<p>“param!=value”：要求请求映射所匹配的请求必须携带param请求参数但是param!=value</p>
<p>若当前请求满足@RequestMapping注解的value和method属性，但是不满足params属性，此时页面显示400错误，parameter conditions xxx not met for actual request parameters</p>
<h2 id="6-headers属性">6. headers属性</h2>
<p>要求映射的请求必须带有的header请求信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(method = &#123;RequestMethod.GET,RequestMethod.POST&#125;,</span></span><br><span class="line"><span class="meta">            value = &#123;&quot;/getTest&quot;,&quot;postTest&quot;&#125;,</span></span><br><span class="line"><span class="meta">            headers = &#123;&quot;Host=localhost:8080&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testMethod</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        System.out.println(request.getParameter(<span class="string">&quot;username&quot;</span>));</span><br><span class="line">        System.out.println(request.getParameter(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>“header”：要求请求映射所匹配的请求必须携带header请求头信息</p>
<p>“!header”：要求请求映射所匹配的请求必须不能携带header请求头信息</p>
<p>“header=value”：要求请求映射所匹配的请求必须携带header请求头信息且header=value</p>
<p>“header!=value”：要求请求映射所匹配的请求必须携带header请求头信息且header!=value</p>
<p>若当前请求满足@RequestMapping注解的value和method属性，但是不满足headers属性，此时页面显示404错误，即资源未找到</p>
<h2 id="7-…-images-SpringMVC支持ant风格路径">7. …/images/SpringMVC支持ant风格路径</h2>
<p>？：表示任意的单个字符</p>
<p>*：表示任意的0个或多个字符</p>
<p>**：表示任意的一层或多层目录</p>
<h2 id="8-SpirngMVC支持路径中的占位符">8. SpirngMVC支持路径中的占位符</h2>
<p>原始方式：/deleteUser?id=1</p>
<p>rest方式：/deleteUser/1</p>
<p>…/images/SpringMVC路径中的占位符常用于RESTful风格中，当请求路径中将某些数据通过路径的方式传输到服务器中，就可以在相应的@RequestMapping注解的value属性中通过占位符{xxx}表示传输的数据，在通过**@PathVariable**注解，将占位符所表示的数据赋值给控制器方法的形参</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;a th:href=<span class="string">&quot;@&#123;/testRest/1/admin&#125;&quot;</span>&gt;测试路径中的占位符--&gt;/testRest&lt;/a&gt;&lt;br&gt;</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/testRest/&#123;id&#125;/&#123;username&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRest</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String id, <span class="meta">@PathVariable(&quot;username&quot;)</span> String username)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;id:&quot;</span>+id+<span class="string">&quot;,username:&quot;</span>+username);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//最终输出的内容为--&gt;id:1,username:admin</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>获取请求参数</h1>
<h2 id="1-通过原生Servlet-API获取">1. 通过原生Servlet API获取</h2>
<p>原生Servlet API：HttpServletRequest</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParam</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;username:&quot;</span>+username+<span class="string">&quot;,password:&quot;</span>+password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-通过控制器获取">2. 通过控制器获取</h2>
<p>控制器方法中设置和请求参数同名的形参</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParam</span><span class="params">(String username, String password, String hobbies)</span>&#123; 	</span><br><span class="line">    System.out.println(<span class="string">&quot;username:&quot;</span>+username+<span class="string">&quot;,password:&quot;</span>+password);</span><br><span class="line">    System.out.println(Arrays.toString(hobbies));</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果有多个同名参数，可用字符串数组获取，若用字符串获取，那么得到的是一个用逗号分隔开的参数拼接</p>
<h2 id="3-RequestParam">3. @RequestParam</h2>
<ul>
<li>
<p>用处：用@RequestParam将请求参数和控制器形参创建映射关系</p>
</li>
<li>
<p>位置：用在控制器方法的形参上</p>
</li>
<li>
<p>属性：</p>
<ul>
<li>value：对应的请求参数的参数名</li>
<li>required：是否必须传输此请求参数，默认false</li>
<li>defaultValue：不管required属性值为true或false，当value所指定的请求参数没有传输或传输的值为&quot;&quot;时，则使用默认值为形参赋值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;success&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">success</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String user_name)</span>&#123;</span><br><span class="line">    System.out.println(user_name);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="4-RequestHeader">4. @RequestHeader</h2>
<p>@RequestHeader是将请求头信息和控制器方法的形参创建映射关系</p>
<p>@RequestHeader注解一共有三个属性：value、required、defaultValue，用法同@RequestParam</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;testHeader&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testHeader</span><span class="params">(<span class="meta">@RequestHeader(&quot;Host&quot;)</span> String host)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;host:&quot;</span>+host);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-CookieValue">5. @CookieValue</h2>
<p>@CookieValue是将cookie数据和控制器方法的形参创建映射关系</p>
<p>@CookieValue注解一共有三个属性：value、required、defaultValue，用法同@RequestParam</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;testCookie&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testCookie</span><span class="params">(<span class="meta">@CookieValue(&quot;JSESSIONID&quot;)</span> String cookieId)</span>&#123;</span><br><span class="line">    httpServletRequest.getSession();</span><br><span class="line">    System.out.println(cookieId);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-通过POJO获取请求参数（POJO：实体类对象）">6. 通过POJO获取请求参数（POJO：实体类对象）</h2>
<p>通过实体类获取众多请求参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;testPOJO&quot;,method = RequestMethod.POST)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testPojo</span><span class="params">(User user1)</span>&#123;</span><br><span class="line">    System.out.println(user1);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/testPOJO&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">    username: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    password: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    email: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    age: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    city: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;address.city&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    province: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;address.province&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="7-解决获取到的请求参数乱码问题">7. 解决获取到的请求参数乱码问题</h2>
<blockquote>
<p>需要在获取到请求参数之前做处理</p>
</blockquote>
<p>web.xml中配置编码过滤器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置springMVC的编码过滤器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span><span class="comment">&lt;!--对所有URL生效--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1>域对象共享数据</h1>
<p>钝化：当服务器关闭而浏览器没有关闭时，会话没有关系，session中存储的数据会经过序列化存储在我们的磁盘上</p>
<p>活化：浏览器仍没有关闭切服务器重新开启时，将存储在磁盘中的session数据（钝化后的数据）重新读取到session中</p>
<h2 id="request域对象">request域对象</h2>
<h3 id="1-用servlet-API向request域对象里添加数据">1. 用servlet API向request域对象里添加数据</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testScopeCOntroller</span><span class="params">(HttpServletRequest httpServletRequest)</span>&#123;</span><br><span class="line">    httpServletRequest.setAttribute(<span class="string">&quot;scopeTest&quot;</span>,<span class="string">&quot;hello scope&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">success!</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;scopeTest&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-使用ModelAndView向request域对象共享数据">2. 使用ModelAndView向request域对象共享数据</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;test2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">testScopeController2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">ModelAndView</span> <span class="variable">mav</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">    <span class="comment">//往请求域中添加属性</span></span><br><span class="line">    mav.addObject(<span class="string">&quot;scopeTest&quot;</span>,<span class="string">&quot;hello scope2!&quot;</span>);</span><br><span class="line">    <span class="comment">//设置要转发的视图名称</span></span><br><span class="line">    mav.setViewName(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> mav;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-通过Model向request域对象共享数据">3. 通过Model向request域对象共享数据</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;test3&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testModel</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;scopeTest&quot;</span>,<span class="string">&quot;hello model!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-通过map向request域对象共享数据">4. 通过map向request域对象共享数据</h3>
<p>感觉和model是一样的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;test4&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testMap</span><span class="params">(Map&lt;String,Object&gt; map)</span>&#123;</span><br><span class="line">    map.put(<span class="string">&quot;scopeTest&quot;</span>,<span class="string">&quot;hello map!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-使用ModelMap向request域对象共享数据">5. 使用ModelMap向request域对象共享数据</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/test5&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testModelMap</span><span class="params">(ModelMap modelMap)</span>&#123;</span><br><span class="line">    modelMap.addAttribute(<span class="string">&quot;scopeTest&quot;</span>, <span class="string">&quot;hello,ModelMap&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-Model、ModelMap、Map的关系">6. Model、ModelMap、Map的关系</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Model</span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelMap</span> <span class="keyword">extends</span> <span class="title class_">LinkedHashMap</span>&lt;String, Object&gt; &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtendedModelMap</span> <span class="keyword">extends</span> <span class="title class_">ModelMap</span> <span class="keyword">implements</span> <span class="title class_">Model</span> &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BindingAwareModelMap</span> <span class="keyword">extends</span> <span class="title class_">ExtendedModelMap</span> &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="向session域共享数据">向session域共享数据</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testSession&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testSession</span><span class="params">(HttpSession session)</span>&#123;</span><br><span class="line">    session.setAttribute(<span class="string">&quot;testSessionScope&quot;</span>, <span class="string">&quot;hello,session&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;session.sessionTest&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="向application域共享数据">向application域共享数据</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;test6&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testApplication</span><span class="params">(HttpSession session)</span>&#123;</span><br><span class="line">    <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">    servletContext.setAttribute(<span class="string">&quot;applicationTest&quot;</span>,<span class="string">&quot;hello,application!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;application.applicationTest&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1>…/images/SpringMVC的视图</h1>
<p>…/images/SpringMVC中的视图是View接口，视图的作用渲染数据，将模型Model中的数据展示给用户</p>
<p>…/images/SpringMVC视图的种类很多，默认有转发视图和重定向视图</p>
<p>当工程引入jstl的依赖，转发视图会自动转换为JstlView</p>
<p>若使用的视图技术为Thymeleaf，在…/images/SpringMVC的配置文件中配置了Thymeleaf的视图解析器，由此视图解析器解析之后所得到的是ThymeleafView</p>
<h3 id="1、ThymeleafView"><a target="_blank" rel="noopener" href="https://mowangblog.github.io/../images/SpringMVC-Demo/#/?id=_1%E3%80%81thymeleafview">1、ThymeleafView</a></h3>
<p>当控制器方法中所设置的视图名称没有任何前缀时，此时的视图名称会被…/images/SpringMVC配置文件中所配置的视图解析器解析，视图名称拼接视图前缀和视图后缀所得到的最终路径，会通过转发的方式实现跳转</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testHello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testHello</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2、转发视图"><a target="_blank" rel="noopener" href="https://mowangblog.github.io/../images/SpringMVC-Demo/#/?id=_2%E3%80%81%E8%BD%AC%E5%8F%91%E8%A7%86%E5%9B%BE">2、转发视图</a></h3>
<p>SpringMVC中默认的转发视图是InternalResourceView</p>
<p>SpringMVC中创建转发视图的情况：</p>
<p>当控制器方法中所设置的视图名称以&quot;forward:&quot;为前缀时，创建InternalResourceView视图，此时的视图名称不会被…/images/SpringMVC配置文件中所配置的视图解析器解析，而是会将前缀&quot;forward:&quot;去掉，剩余部分作为最终路径通过转发的方式实现跳转</p>
<p>例如&quot;forward:/&quot;，“forward:/employee”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testForward&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testForward</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;forward:/testHello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3、重定向视图"><a target="_blank" rel="noopener" href="https://mowangblog.github.io/../images/SpringMVC-Demo/#/?id=_3%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91%E8%A7%86%E5%9B%BE">3、重定向视图</a></h3>
<p>…/images/SpringMVC中默认的重定向视图是RedirectView</p>
<p>当控制器方法中所设置的视图名称以&quot;redirect:&quot;为前缀时，创建RedirectView视图，此时的视图名称不会被…/images/SpringMVC配置文件中所配置的视图解析器解析，而是会将前缀&quot;redirect:&quot;去掉，剩余部分作为最终路径通过重定向的方式实现跳转</p>
<p>例如&quot;redirect:/&quot;，“redirect:/employee”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testRedirect&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRedirect</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/testHello&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">1234Copy to clipboardErrorCopied</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：</p>
<p>重定向视图在解析时，会先将redirect:前缀去掉，然后会判断剩余部分是否以/开头，若是则会自动拼接上下文路径</p>
</blockquote>
<h3 id="4、视图控制器view-controller"><a target="_blank" rel="noopener" href="https://mowangblog.github.io/../images/SpringMVC-Demo/#/?id=_4%E3%80%81%E8%A7%86%E5%9B%BE%E6%8E%A7%E5%88%B6%E5%99%A8view-controller">4、视图控制器view-controller</a></h3>
<p>当控制器方法中，仅仅用来实现页面跳转，即只需要设置视图名称时，可以将处理器方法使用view-controller标签进行表示</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    path：设置处理的请求地址</span></span><br><span class="line"><span class="comment">    view-name：设置请求地址所对应的视图名称</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">&quot;/testView&quot;</span> <span class="attr">view-name</span>=<span class="string">&quot;success&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:view-controller</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：</p>
<p>当…/images/SpringMVC中设置任何一个view-controller时，其他控制器中的请求映射将全部失效，此时需要在SpringMVC的核心配置文件中设置开启mvc注解驱动的标签：</p>
<p>&lt;mvc:annotation-driven /&gt;</p>
</blockquote>
<h1>RESTFul</h1>
<blockquote>
<p>REST：<strong>Re</strong>presentational <strong>S</strong>tate <strong>T</strong>ransfer，表现层资源状态转移。</p>
</blockquote>
<p>感觉这是一种风格</p>
<p>具体说，就是 HTTP 协议里面，四个表示操作方式的动词：GET、POST、PUT、DELETE。</p>
<p>它们分别对应四种基本操作：GET 用来获取资源，POST 用来新建资源，PUT 用来更新资源，DELETE 用来删除资源。</p>
<p>REST 风格提倡 URL 地址使用统一的风格设计，从前到后各个单词使用斜杠分开，不使用问号键值对方式携带请求参数，而是将要发送给服务器的数据作为 URL 地址的一部分，以保证整体风格的一致性。</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>传统方式</th>
<th>REST风格</th>
</tr>
</thead>
<tbody>
<tr>
<td>查询操作</td>
<td>getUserById?id=1</td>
<td>user/1–&gt;get请求方式</td>
</tr>
<tr>
<td>保存操作</td>
<td>saveUser</td>
<td>user–&gt;post请求方式</td>
</tr>
<tr>
<td>删除操作</td>
<td>deleteUser?id=1</td>
<td>user/1–&gt;delete请求方式</td>
</tr>
<tr>
<td>更新操作</td>
<td>updateUser</td>
<td>user–&gt;put请求方式</td>
</tr>
</tbody>
</table>
<p><strong>案例：</strong></p>
<p>​	前端请求</p>
<p><img src="../images/SpringMVC/image-20221112090331497.png" alt=""></p>
<p><img src="../images/SpringMVC/image-20221112091830002.png" alt=""></p>
<p>后端：</p>
<p><img src="../images/SpringMVC/image-20221112091859889.png" alt=""></p>
<h2 id="如何实现PUT和DELETE请求呢">如何实现PUT和DELETE请求呢</h2>
<p>由于浏览器只有get和post两种请求，而服务器（或者是RequestMapping）是能解决删除和更新操作的。</p>
<p><strong>实现逻辑</strong>：</p>
<ol>
<li>前端的请求方法是<strong>POST</strong>，且必须<strong>携带请求参数_method</strong>（其值等于对应的请求例如DELETE或PUT）</li>
<li>在web.xml中注册<strong>HiddenHttpMethodFilter</strong></li>
</ol>
<p><strong>原理：</strong></p>
<ol>
<li>HiddenHttpMethodFilter接收到这个请求之后先把这个请求的请求方式转换成_method的值 （如：DETELE或PUT方式）。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">\\HiddenHttpMethodFilter</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doFilterInternal</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="type">HttpServletRequest</span> <span class="variable">requestToUse</span> <span class="operator">=</span> request;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;POST&quot;</span>.equals(request.getMethod()) &amp;&amp; request.getAttribute(<span class="string">&quot;javax.servlet.error.exception&quot;</span>) == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">paramValue</span> <span class="operator">=</span> request.getParameter(<span class="built_in">this</span>.methodParam);</span><br><span class="line">        <span class="keyword">if</span> (StringUtils.hasLength(paramValue)) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> paramValue.toUpperCase(Locale.ENGLISH);</span><br><span class="line">            <span class="keyword">if</span> (ALLOWED_METHODS.contains(method)) &#123;</span><br><span class="line">                requestToUse = <span class="keyword">new</span> <span class="title class_">HttpMethodRequestWrapper</span>(request, method);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    filterChain.doFilter((ServletRequest)requestToUse, response);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    ALLOWED_METHODS = Collections.unmodifiableList(Arrays.asList(HttpMethod.PUT.name(), HttpMethod.DELETE.name(), HttpMethod.PATCH.name()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>HttpMessageConverter</h1>
<blockquote>
<p>HttpMessageConverter，报文信息转换器，将请求报文转换为Java对象，或将Java对象转换为响应报文</p>
<p>HttpMessageConverter提供了两个注解和两个类型：</p>
<p>@RequestBody，@ResponseBody，RequestEntity，ResponseEntity</p>
</blockquote>
<h2 id="RequestBody">@RequestBody</h2>
<p>将请求参数转换成Java对象</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/testRequestBody&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testRequestBody&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestBody</span><span class="params">(<span class="meta">@RequestBody</span> String requestBody)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;requestBody:&quot;</span>+requestBody);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>output:</strong>  requestBody:username=admin&amp;password=password</p>
<h2 id="RequestEntity">RequestEntity</h2>
<p>这是一个类型，controller中用这种类型的参数能接收请求报文（除了请求参数还有请求头等一系列信息）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testRequestEntity&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestEntity</span><span class="params">(RequestEntity&lt;String&gt; requestEntity)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;requestHeader:&quot;</span>+requestEntity.getHeaders());</span><br><span class="line">    System.out.println(<span class="string">&quot;requestBody:&quot;</span>+requestEntity.getBody());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>output:</strong> requestHeader:[host:“localhost:8080”, connection:“keep-alive”, content-length:“27”, cache-control:“max-age=0”, sec-ch-ua:“” Not A;Brand&quot;;v=“99”, “Chromium”;v=“90”, “Google Chrome”;v=“90&quot;”, sec-ch-ua-mobile:“?0”, upgrade-insecure-requests:“1”, origin:“<a href="http://localhost:8080%E2%80%9D/">http://localhost:8080”</a>, user-agent:“Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36”] requestBody:username=admin&amp;password=123</p>
<h2 id="ResponseEntity">ResponseEntity</h2>
<p>ResponseEntity用于控制器方法的返回值类型，该控制器方法的返回值就是响应到浏览器的响应报文</p>
<h2 id="ResponseBody">@ResponseBody</h2>
<p>用在控制器方法上，可以将Java对象转换成json格式的响应体响应到浏览器。</p>
<p><strong>注：</strong></p>
<ul>
<li>项目中需要有能转换json的依赖</li>
</ul>
<p><strong>做法：</strong></p>
<p>a&gt;导入jackson的依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>b&gt;在…/images/SpringMVC的核心配置文件中开启mvc的注解驱动，此时在HandlerAdaptor中会自动装配一个消息转换器：MappingJackson2HttpMessageConverter，可以将响应到浏览器的Java对象转换为Json格式的字符串</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="RestController">@RestController</h2>
<p>@RestController注解是springMVC提供的一个复合注解，标识在控制器的类上，就相当于为类添加了@Controller注解，并且为其中的每个方法添加了@ResponseBody注解</p>
<h1>其他</h1>
<p>访问请求的方式：（浏览器只有get和post请求）</p>
<p>get请求：（地址映射controller的RequestMapping，以下这两种其实是一种）</p>
<ul>
<li>点击页面中的链接</li>
<li>直接用链接访问</li>
</ul>
<p>post请求：（没办法直接通过链接访问—这是get方式的请求）</p>
<ul>
<li>通过 html中的表单标签（form, action属性指向请求地址）</li>
</ul>
<h1>…/images/SpringMVC工作原理</h1>
<ol>
<li>请求给到前端控制器DispatcherServlet</li>
<li>DispatcherServlet收到请求后会根据请求的信息（包括URL、HTTP协议方法、请求头、请求参数、Cookie等）以及HandlerMapping的配置找到处理该请求的Handler（任何一个对象都可以作为请求的Handler）。</li>
<li>在这个地方Spring会通过HandlerAdapter对该处理器进行封装。（HandlerAdapter是一个适配器，它用统一的接口对各种Handler中的方法进行调用。）</li>
<li>Handler（Controller）处理完请求后，返回一个ModelAndView（包含数据模型和相应视图信息）给到DispatcherServlet</li>
<li>DispatcherServlet借助ViewResolver完成从逻辑视图到真实视图的解析</li>
<li>得到真实视图后，DispatcherServlet会利用视图对象对模型数据进行渲染。</li>
<li>客户端得到响应，可能是一个普通的HTML页面，也可以是XML或JSON字符串，还可以是一张图片或者一个PDF文件。</li>
</ol>
<p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/16/16b5eb3870589ac4~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image" alt=""></p>
<p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/16/16b5eb3cc1ab2fe9~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image" alt=""></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xyat98.github.io/2023/12/03/Spring%E6%A1%86%E6%9E%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_9443.JPG">
      <meta itemprop="name" content="y-n">
      <meta itemprop="description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liu">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/03/Spring%E6%A1%86%E6%9E%B6/" class="post-title-link" itemprop="url">Spring框架</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-03 12:52:29" itemprop="dateCreated datePublished" datetime="2023-12-03T12:52:29+08:00">2023-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-01-13 22:11:34" itemprop="dateModified" datetime="2024-01-13T22:11:34+08:00">2024-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Develop/" itemprop="url" rel="index"><span itemprop="name">Develop</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>Spring基础</h1>
<ul>
<li>
<p>Spring是一个用于解决企业应用<strong>开发</strong>的复杂性而创建的轻量级<strong>Java框架</strong>。</p>
</li>
<li>
<p>主要优势是其<strong>分层架构</strong>允许使用者选择使用哪一个组件，用基本的JavaBean完成以前只可能用EJB（Enterprise Java Bean）完成的事情。</p>
</li>
<li>
<p>核心：<strong>控制反转（IOC）<strong>和</strong>面向切面（AOP）</strong>。</p>
</li>
</ul>
<h3 id="控制反转-Inversion-of-Control：">控制反转-Inversion of  Control：</h3>
<ul>
<li>
<p>一种设计模式，用以降低计算机代码的耦合度</p>
</li>
<li>
<p>功能：通过控制反转，对象在被创建的时候，由一个调控系统内所有对象的<strong>外界实体</strong>将其所依赖的对象的引用传递给它。（相当于资源统一由不使用资源的第三方管理，好像在配置文件实现，如果A、C依赖B，对象B有什么更改的话直接在配置文件改一个地方，就不用去所有A、C类中再去一一更改了）</p>
</li>
<li>
<p>好处：资源集中管理、降低使用资源双方的耦合性</p>
</li>
<li>
<p>常见方法：依赖注入、依赖查找</p>
<p><img src="../images/Spring%E6%A1%86%E6%9E%B6/v2-ee924f8693cff51785ad6637ac5b21c1_hd.jpg" alt=""></p>
</li>
</ul>
<p><strong>依赖倒置原则：</strong></p>
<p>设计一辆汽车，考虑这两种设计方式：</p>
<ol>
<li>先设计轮子，根据轮子设计底盘，根据底盘设计车身，根据车身设计汽车。</li>
<li>先设计汽车，根据汽车设计车身，根据车身设计底盘，根据底盘设计轮子。</li>
</ol>
<p>方式1的可维护性极低，如果轮子的设计改变了，则所有都得重新设计一遍，即“牵一发而动全局”，方式2就只需要改轮子。</p>
<p>方式一：</p>
<table>
	<tr>
        <td><img src="https://pic3.zhimg.com/80/v2-8ec294de7d0f9013788e3fb5c76069ef_hd.jpg" ></td>
        <td><img src="https://pic1.zhimg.com/80/v2-82e0c12a1b26f7979ed9241e169affda_hd.jpg" ></td>
    </tr>
</table>
<p>方式二：（这个实现方法就是依赖注入）</p>
<table>
    <tr>
        <td><img src="https://pic1.zhimg.com/80/v2-c920a0540ce0651003a5326f6ef9891d_hd.jpg"></td>
        <td><img src="https://pic4.zhimg.com/80/v2-99ad2cd809fcb86dd791ff7f65fb1779_hd.jpg"></td>
    </tr>
</table>
<p>总结来说，依赖倒置原则就是高层建筑决定需要什么，由底层去实现需求，高层不用管底层是怎么实现的。</p>
<img src="../images/Spring框架/v2-c845802f9187953ed576e0555f76da42_hd.jpg" alt="img" style="zoom:80%;" />
<p>因为使用依赖注入，初始化的过程需要写大量的new，要将依赖的对象都初始化，而IoC Container就是帮助我们省掉这个过程，我们只需要维护一个Configuration，且创建Car实例时也不需要关注底层细节。</p>
<p><img src="../images/Spring%E6%A1%86%E6%9E%B6/v2-24a96669241e81439c636e83976ba152_hd.jpg" alt=""><br>
$$<br>
\Downarrow<br>
$$<br>
<img src="../images/Spring%E6%A1%86%E6%9E%B6/v2-5ca61395f37cef73c7bbe7808f9ea219_hd.jpg" alt=""></p>
<p>这个架构要求你在写class的时候需要写相应的Config文件，所以你要初始化很久以前的Service类的时候，前人都已经写好了Config文件，你直接在需要用的地方注入这个Service就可以了</p>
<h3 id="面向切面—Aspect-Orientied-Programming">面向切面—Aspect Orientied Programming</h3>
<ul>
<li>通过预编译方式和运行期间动态代理实现程序功能的统一维护的一种技术，这也是一种设计模式。</li>
<li>功能：实现程序功能统一，可以对业务逻辑的各个部分进行隔离，使它们的耦合度降低</li>
<li>常用方法：预编译、运行期间动态代理</li>
</ul>
<p>OOP(Object Oriented Programming)：面向对象编程，引入封装、继承、多态建立对象层次结构。允许开发者定义纵向关系，但不适合定义横向关系。</p>
<p>AOP：将那些影响多个类的公共行为（即与业务无关）封装起来，目的是减少系统重复代码，降低模块之间的耦合性，有利于未来可操作性和可维护性。</p>
<p>AOP将软件系统分为两个部分：核心关注点和横切关注点。</p>
<p>通过<strong>动态代理</strong>，可以在指定位置执行对应流程。这样可以将一些横向的功能抽离出来形成一个独立的模块，然后在指定位置插入这些功能。这样的思想就是<strong>面向切面编程</strong>，即<strong>AOP</strong>。</p>
<ul>
<li>Target Object:目标类，需要被代理的类。例如：UserServiceImpl;</li>
<li>Join Point:连接点，所谓的连接点是指那些可能被拦截到的方法。例如：getargs();</li>
<li>Pointcut:切入点，已经被增强的连接点。例如：addUser();</li>
<li>Advice:增强/通知，增强代码。例如：afer、before等；</li>
<li>Weaving:织入，是指把增强advice应用到目标对象target来创建新的代理对象proxy的过程；</li>
<li>Proxy:代理类，通知+切入点(由动态代理自动生成的类)；</li>
<li>Aspect:切面，是切入点pointcut和通知advice的结合。</li>
</ul>
<p>Reference：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hht006158/article/details/80181207?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1-80181207-blog-124129130.pc_relevant_default&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1-80181207-blog-124129130.pc_relevant_default&amp;utm_relevant_index=2">什么是spring框架？spring特点与好处,使用spring框架的好处是什么</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_57452280/article/details/119700637"> Spring框架专题(六)-Spring框架之AOP_三舞组合的博客-CSDN博客_spring框架的aop</a></p>
<h2 id="Spring容器">Spring容器</h2>
<p>bean对象的实例化与装配有两种，BeanFactory和ApplicationContext，ApplicationContext时BeanFactory的一个子接口。</p>
<p>BeanFactory：延迟加载，第一次用的时候再加载。第一次调用getBean()，才去读配置信息，生成某个bean的实例。</p>
<p>ApplicationContext: 初始化的时候就加载，初始化时读取配置信息，生成所有bean的实例。大多情况用这个。</p>
<p><img src="../images/Spring%E6%A1%86%E6%9E%B6/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpdGlhbnhpYW5nX2thb2xh,size_16,color_FFFFFF,t_70.png" alt=""></p>
<h3 id="配置元数据">配置元数据</h3>
<p>元数据三种格式：xml、Java注解和Java代码</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;BookServiceId&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.tyshawn.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;BookDaoId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;BookDaoId&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.tyshawn.dao.Impl.BookDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ApplicationContext有两个实现类用来加载XML格式的元数据：</p>
<ul>
<li>ClassPathXmlApplicationContext：基于类路径</li>
<li>FileSystemXmlApplicationContext：基于文件路径</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;classpath:spring/bean.xml&quot;</span>);</span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemXmlApplicationContext</span>(<span class="string">&quot;D:\\springtest\\src\\main\\resources\\spring\\bean.xml&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>ApplicationContext的实现类AnnotationConfigApplicationContext用来加载Java注解格式的元数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &quot;org.tyshawn&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">AnnotationConfigApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(AppConfig.class);</span><br></pre></td></tr></table></figure>
<h3 id="IoC">IoC</h3>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xyat98.github.io/2023/12/03/%E8%B0%B7%E7%B2%92/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_9443.JPG">
      <meta itemprop="name" content="y-n">
      <meta itemprop="description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liu">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/03/%E8%B0%B7%E7%B2%92/" class="post-title-link" itemprop="url">谷粒</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-03 12:52:29" itemprop="dateCreated datePublished" datetime="2023-12-03T12:52:29+08:00">2023-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-01-13 22:10:57" itemprop="dateModified" datetime="2024-01-13T22:10:57+08:00">2024-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Develop/" itemprop="url" rel="index"><span itemprop="name">Develop</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>工具&amp;使用</h1>
<h2 id="虚拟机">虚拟机</h2>
<h3 id="1-进入虚拟机">1. 进入虚拟机</h3>
<p>cmd(对应文件夹下)下通过vagrant进入虚拟机，命令为</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vagrant ssh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">D:\32689就可以</span></span><br></pre></td></tr></table></figure>
<h3 id="2-虚拟机root密码">2. 虚拟机root密码</h3>
<p>vagrant</p>
<h2 id="Docker">Docker</h2>
<blockquote>
<p>将各种组件变成容器</p>
</blockquote>
<h3 id="1-容器和镜像的概念">1. 容器和镜像的概念</h3>
<p>镜像更像是一个静态的结构，而容器是镜像的一个实例化</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run name #从一个镜像中实例化出一个容器并启动</span><br><span class="line">docker start name #从容器ID启动一个容器 </span><br><span class="line">docker logs mysql #可以从日志里查一些报错信息</span><br></pre></td></tr></table></figure>
<h3 id="2-下载镜像">2. 下载镜像</h3>
<p><code>docker pull mysql:5.7\\下载一个固定版本5.7的mysql镜像</code></p>
<p><code>docker pull mysql\\下载最新版本的mysql镜像</code></p>
<h3 id="3-添加容器">3. 添加容器</h3>
<p>问题：在添加mysql容器时出现错误，容器能正常添加但启动不了；</p>
<p>原因：查到的原因是因为虚拟机Centos7禁掉了权限，无法使用-v命令进行挂载（但为什么添加redis没有问题）</p>
<p>解决：将要挂载的目录添加到白名单</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chcon -Rt svirt_sandbox_file_t /mydata/mysql/log</span><br><span class="line">chcon -Rt svirt_sandbox_file_t /mydata/mysql/data</span><br><span class="line">chcon -Rt svirt_sandbox_file_t /mydata/mysql/conf</span><br></pre></td></tr></table></figure>
<h2 id="vue">vue</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run dev 启动前端</span><br><span class="line">npm init -y 开启一个npm项目</span><br><span class="line">npm install xxx 下载xxx</span><br></pre></td></tr></table></figure>
<h2 id="vue的使用（代码里）">vue的使用（代码里）</h2>
<p>有助于前后端分离？</p>
<ol>
<li>创建一个vue实例，将该实例与页面某个模块关联，</li>
<li>然后对应的模块就能与实例中的数据进行响应式交互了</li>
<li>可以用指令对数据进行操作</li>
</ol>
<p>eg：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;num&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;num++&quot;</span>&gt;</span>点赞<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;cancle&quot;</span>&gt;</span>取消点赞<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h</span>&gt;</span>&#123;&#123;chineseName&#125;&#125;,你一定会变得很厉害的！有&#123;&#123;num&#125;&#125;个人为你点赞<span class="tag">&lt;/<span class="name">h</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./node_modules/vue2/node_modules/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&quot;lyn&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">chineseName</span>: <span class="string">&quot;刘雅妮&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">num</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">cancle</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">num</span>--;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="整合mybatis">整合mybatis</h2>
<ol>
<li>
<p>导入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>最新版本<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>配置</p>
<ul>
<li>配置数据源
<ul>
<li>配置数据库驱动（注意驱动得对应数据库的版本）</li>
<li>application.yml配置数据数据源相关信息</li>
</ul>
</li>
<li>配置Mybatis-plus相关东西
<ul>
<li>使用@MapperScan（SpringBootApplication处配置，告诉应用mapper映射在那个包扫描）</li>
<li>告诉Mybatis-plus，sql映射文件位置在哪里</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="nacos">nacos</h2>
<p>打开nacos控制台：启动Nacos服务器：解压下载的Nacos文件，并进入解压后的目录。在命令行或终端中运行以下命令来启动Nacos服务器：</p>
<h1>快速开发</h1>
<h2 id="配置测试微服务基本CURD功能">配置测试微服务基本CURD功能</h2>
<h1>Spring Cloud Alibaba</h1>
<h2 id="1-Nacos">1. Nacos</h2>
<p>更易于构建云原生应用的<strong>动态服务发现</strong>、<strong>配置管理</strong>和服务管理平台</p>
<p>nacos的登陆密码改过了</p>
<h3 id="作为注册中心使用："><strong>作为注册中心使用：</strong></h3>
<ol>
<li>引入依赖</li>
<li>配置：（配置好地址和application的名字）</li>
</ol>
<p><img src="../images/%E8%B0%B7%E7%B2%92/image-20221130192515710.png" alt=""></p>
<ol start="3">
<li>在应用上加上@EnableDiscoveryClient3.</li>
</ol>
<h3 id="作为配置中心："><strong>作为配置中心：</strong></h3>
<ol>
<li>
<p>引入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>创建一个bootstrap.properties，里面配置上，并且启动上Nacos服务器</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.application.name</span>=<span class="string">application_name （需要被配置的服务名称）</span></span><br><span class="line"><span class="attr">spring.cloud.nacos.config.server-addr</span>=<span class="string">127.0.0.1:8848 (配置中心服务器地址)</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在Nacos服务器中添加一个该应用的数据集（Data ID：应用名.properties）</p>
<p><img src="../images//%E8%B0%B7%E7%B2%92/image-20221204230159166.png" alt=""></p>
</li>
<li>
<p>动态获取配置，加上以下注解</p>
<p>@RefreshScope(proxyMode = ScopedProxyMode.DEFAULT)在Controller类上</p>
<p>@Value(“${配置项的名称}”)在属性上</p>
<p>注：如果配置中心和当前应用的配置文件中都配置了相同的项，优先使用配置中心的值</p>
</li>
</ol>
<p><strong>注意：</strong></p>
<ol>
<li>
<p>命名空间（配置隔离）</p>
<ul>
<li>可以按照环境隔离（例如：生产环境prod、测试环境test、开发环境dev）</li>
<li>也可以按照服务来隔离</li>
</ul>
<p>用法：</p>
<p>bootstrap.properties里指定一下读取的是哪个命名空间：(用命名空间ID表示)</p>
<p><img src="../images/%E8%B0%B7%E7%B2%92/image-20221204233041804.png" alt=""></p>
</li>
<li>
<p>配置集：配置的集合</p>
</li>
<li>
<p>配置集ID：Data ID就是配置集ID</p>
<p><img src="../images/%E8%B0%B7%E7%B2%92/image-20221204233205315-16701679257811.png" alt=""></p>
</li>
<li>
<p>配置分组配置集属于哪个分组</p>
<p>需要在bootstrap.properties中指定读取的配置分组</p>
</li>
</ol>
<p><strong>使用：</strong> 可以每个微服务创建自己的命名空间，使用配置分组区分环境（dev、prod、test）</p>
<p><strong>使用多配置集：</strong></p>
<p>bootstrap.properties中：指定一下就行（spring.cloud.nacos.config.ext-config是一个list）</p>
<p><img src="../images/%E8%B0%B7%E7%B2%92/image-20221205091022021.png" alt=""></p>
<h2 id="2-Feign声明式远程调用">2. Feign声明式远程调用</h2>
<p>声明式的Http客户端，让远程调用更简单。</p>
<p>写一个接口类，接口类上用某个注解标识要调用的服务名称，</p>
<p>再写抽象方法，抽象方法上用标识要调用的对应的服务的地址@RequestMapping</p>
<h2 id="3-Spring-Cloud-Gateway-网关">3. Spring Cloud Gateway(网关)</h2>
<blockquote>
<p>网关的用处：</p>
<ol>
<li>感知服务的上线、下线，帮助请求路由到对应的服务中</li>
<li>鉴权</li>
</ol>
</blockquote>
<h1>前端开发</h1>
<h2 id="ES6">ES6</h2>
<blockquote>
<p>ES6， 全称 ECMAScript 6.0 ，是 <strong>JavaScript 的下一个版本标准</strong>，2015.06 发版。</p>
</blockquote>
<h2 id="vue-2">vue</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run dev 启动前端</span><br><span class="line">npm init -y 开启一个npm项目</span><br><span class="line">npm install xxx 下载xxx</span><br></pre></td></tr></table></figure>
<h3 id="1-vue的使用（代码里）">1. vue的使用（代码里）</h3>
<p>有助于前后端分离？</p>
<ol>
<li>创建一个vue实例，将该实例与页面某个模块关联，</li>
<li>然后对应的模块就能与实例中的数据进行响应式交互了</li>
<li>可以用指令对数据进行操作</li>
</ol>
<p>eg：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;num&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;num++&quot;</span>&gt;</span>点赞<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;cancle&quot;</span>&gt;</span>取消点赞<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h</span>&gt;</span>&#123;&#123;chineseName&#125;&#125;,你一定会变得很厉害的！有&#123;&#123;num&#125;&#125;个人为你点赞<span class="tag">&lt;/<span class="name">h</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./node_modules/vue2/node_modules/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&quot;lyn&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">chineseName</span>: <span class="string">&quot;刘雅妮&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">num</span>: <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">cancle</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">num</span>--;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1>问题</h1>
<h2 id="1-跨域">1. 跨域</h2>
<p>后端的renrenfast项目config/Corsconfig中的注释打开</p>
<p>浏览器有一个同源策略，是不允许跨域的。（非简单请求不允许跨域，简单请求可以）</p>
<p>浏览器在发送真实的非简单请求以前·会先发一个OPTION类型的预检请求，让对方判断是否能能访问</p>
<p><img src="../images/%E8%B0%B7%E7%B2%92/image-20230707083035832.png" alt=""></p>
<h3 id="解决方案">解决方案</h3>
<ol>
<li>用代理将两个请求部署为同一个域</li>
</ol>
<p><img src="../images/%E8%B0%B7%E7%B2%92/image-20230707000435172.png" alt=""></p>
<ol start="2">
<li>设置响应头，搞一个filter？</li>
</ol>
<h1>进度</h1>
<p>写一个删除功能, P51</p>
<p>and 虚拟机重新装了一遍，数据和配置都没了。现在已经装了redis和mysql，但网络访问有点问题，先是主机连虚拟机的mysql时有那个远程访问权限的问题，之后就主机连不到虚拟机了，ping不通。</p>
<h1>End</h1>
<table>
<thead>
<tr>
<th>delivery_id</th>
<th>customer_id</th>
<th>order_date</th>
<th>customer_pref_delivery_date</th>
</tr>
</thead>
<tbody>
<tr>
<td>289</td>
<td>7</td>
<td>2019-07-08</td>
<td>2019-08-13</td>
</tr>
<tr>
<td>85</td>
<td>90</td>
<td>2019-08-01</td>
<td>2019-08-18</td>
</tr>
<tr>
<td>982</td>
<td>82</td>
<td>2019-07-01</td>
<td>2019-08-16</td>
</tr>
<tr>
<td>325</td>
<td>61</td>
<td>2019-08-30</td>
<td>2019-08-30</td>
</tr>
<tr>
<td>652</td>
<td>18</td>
<td>2019-08-05</td>
<td>2019-08-15</td>
</tr>
<tr>
<td>176</td>
<td>64</td>
<td>2019-07-02</td>
<td>2019-07-02</td>
</tr>
<tr>
<td>248</td>
<td>86</td>
<td>2019-07-19</td>
<td>2019-08-04</td>
</tr>
<tr>
<td>557</td>
<td>41</td>
<td>2019-07-10</td>
<td>2019-07-25</td>
</tr>
<tr>
<td>426</td>
<td>47</td>
<td>2019-07-01</td>
<td>2019-08-03</td>
</tr>
<tr>
<td>1000</td>
<td>20</td>
<td>2019-07-17</td>
<td>2019-07-17</td>
</tr>
<tr>
<td>947</td>
<td>71</td>
<td>2019-07-14</td>
<td>2019-08-18</td>
</tr>
<tr>
<td>379</td>
<td>27</td>
<td>2019-07-09</td>
<td>2019-08-14</td>
</tr>
<tr>
<td>886</td>
<td>42</td>
<td>2019-07-02</td>
<td>2019-08-18</td>
</tr>
<tr>
<td>943</td>
<td>94</td>
<td>2019-08-06</td>
<td>2019-08-08</td>
</tr>
<tr>
<td>87</td>
<td>85</td>
<td>2019-07-19</td>
<td>2019-07-29</td>
</tr>
<tr>
<td>179</td>
<td>98</td>
<td>2019-07-31</td>
<td>2019-07-31</td>
</tr>
<tr>
<td>733</td>
<td>53</td>
<td>2019-08-22</td>
<td>2019-08-24</td>
</tr>
<tr>
<td>224</td>
<td>81</td>
<td>2019-08-29</td>
<td>2019-08-31</td>
</tr>
<tr>
<td>394</td>
<td>78</td>
<td>2019-07-29</td>
<td>2019-07-29</td>
</tr>
<tr>
<td>149</td>
<td>1</td>
<td>2019-08-29</td>
<td>2019-08-29</td>
</tr>
<tr>
<td>169</td>
<td>100</td>
<td>2019-07-27</td>
<td>2019-08-31</td>
</tr>
<tr>
<td>977</td>
<td>92</td>
<td>2019-08-17</td>
<td>2019-08-31</td>
</tr>
<tr>
<td>492</td>
<td>63</td>
<td>2019-08-23</td>
<td>2019-08-23</td>
</tr>
<tr>
<td>686</td>
<td>88</td>
<td>2019-07-06</td>
<td>2019-08-26</td>
</tr>
<tr>
<td>638</td>
<td>91</td>
<td>2019-08-19</td>
<td>2019-08-24</td>
</tr>
<tr>
<td>405</td>
<td>74</td>
<td>2019-08-27</td>
<td>2019-08-30</td>
</tr>
<tr>
<td>861</td>
<td>10</td>
<td>2019-08-08</td>
<td>2019-08-24</td>
</tr>
<tr>
<td>984</td>
<td>19</td>
<td>2019-07-17</td>
<td>2019-07-30</td>
</tr>
<tr>
<td>702</td>
<td>5</td>
<td>2019-07-21</td>
<td>2019-08-20</td>
</tr>
<tr>
<td>350</td>
<td>3</td>
<td>2019-08-05</td>
<td>2019-08-05</td>
</tr>
<tr>
<td>449</td>
<td>9</td>
<td>2019-08-07</td>
<td>2019-08-11</td>
</tr>
<tr>
<td>397</td>
<td>83</td>
<td>2019-08-12</td>
<td>2019-08-21</td>
</tr>
<tr>
<td>526</td>
<td>6</td>
<td>2019-08-02</td>
<td>2019-08-02</td>
</tr>
<tr>
<td>574</td>
<td>68</td>
<td>2019-08-15</td>
<td>2019-08-18</td>
</tr>
<tr>
<td>190</td>
<td>46</td>
<td>2019-07-18</td>
<td>2019-08-19</td>
</tr>
<tr>
<td>476</td>
<td>70</td>
<td>2019-07-21</td>
<td>2019-07-21</td>
</tr>
<tr>
<td>104</td>
<td>72</td>
<td>2019-08-30</td>
<td>2019-08-30</td>
</tr>
<tr>
<td>881</td>
<td>58</td>
<td>2019-07-18</td>
<td>2019-07-18</td>
</tr>
<tr>
<td>47</td>
<td>49</td>
<td>2019-07-23</td>
<td>2019-07-26</td>
</tr>
<tr>
<td>65</td>
<td>15</td>
<td>2019-07-28</td>
<td>2019-08-20</td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xyat98.github.io/2023/11/19/%E9%9A%8F%E7%AC%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_9443.JPG">
      <meta itemprop="name" content="y-n">
      <meta itemprop="description" content="Faith is a substance of things hoped for, the evidence of things not seen.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liu">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/19/%E9%9A%8F%E7%AC%94/" class="post-title-link" itemprop="url">沧浪之水</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-19 23:15:16" itemprop="dateCreated datePublished" datetime="2023-11-19T23:15:16+08:00">2023-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-01-13 20:24:05" itemprop="dateModified" datetime="2024-01-13T20:24:05+08:00">2024-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AF%BB%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">读书</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>摘录</h1>
<blockquote>
<p>而我，你的儿子， 却在大势所趋别无选择的口实之中，随波逐流地走上了另一条道路。那里有鲜花，有掌声，有虚拟的尊严和真实的利益。于是我失去信念，放弃了坚守，成为了一个被迫的虚无主义者。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="y-n"
      src="/images/IMG_9443.JPG">
  <p class="site-author-name" itemprop="name">y-n</p>
  <div class="site-description" itemprop="description">Faith is a substance of things hoped for, the evidence of things not seen.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">y-n</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
